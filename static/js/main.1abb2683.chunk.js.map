{"version":3,"sources":["components/UI/Notification.module.css","components/Cart/CartButton.module.css","components/Shop/ProductItem.module.css","components/UI/Card.module.css","components/Cart/Cart.module.css","components/Layout/MainHeader.module.css","components/Shop/Products.module.css","store/cart-visibility.js","store/notification-visibility.js","store/cart-info.js","store/index.js","components/UI/Notification.js","components/UI/Card.js","components/Cart/CartItem.js","components/Cart/Cart.js","components/Cart/CartButton.js","components/Layout/MainHeader.js","components/Layout/Layout.js","components/Shop/ProductItem.js","components/Shop/Products.js","App.js","store/cart-thunks.js","index.js","components/Cart/CartItem.module.css"],"names":["module","exports","cartVisibilitySlice","createSlice","name","initialState","isVisible","reducers","showCart","state","hideCart","cartVisibilityActions","actions","notificationVisibilitySlice","notification","showNotification","action","status","payload","title","message","notificationVisibilityActions","cartInfoSlice","items","totalItems","totalPrice","changed","replaceCart","addItem","existingItem","filter","item","itemToAdd","find","amount","total","price","map","reduce","curr","acc","push","removeItem","cartInfoActions","store","configureStore","reducer","cartVisibility","cartVisibilityReducer","notificationVisibilityReducer","cartInfo","cartInfoReducer","Notification","props","specialClasses","classes","error","success","cssClasses","className","Card","card","children","CartItem","quantity","dispatch","useDispatch","toFixed","itemprice","details","onClick","Cart","cartItems","useSelector","useEffect","cart","CartButton","isCartVisible","button","badge","MainHeader","header","Layout","ProductItem","description","Products","products","isInitial","App","fetchData","fetch","response","ok","Error","json","data","cartData","sendRequest","method","body","JSON","stringify","sendCartData","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.1abb2683.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__2p9LG\",\"error\":\"Notification_error__3LSb0\",\"success\":\"Notification_success__3cE_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CartButton_button__1UdqK\",\"button-active\":\"CartButton_button-active__1zPh7\",\"badge\":\"CartButton_badge__2cGlP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ProductItem_item__2jUGT\",\"price\":\"ProductItem_price__3-8X2\",\"actions\":\"ProductItem_actions__2mPvM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__39BY8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"Cart_cart__27PLs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainHeader_header__1OjOI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"products\":\"Products_products__1kHo4\"};","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst cartVisibilitySlice = createSlice({\r\n  name: 'cartVisibility',\r\n  initialState: { isVisible: false },\r\n  reducers: {\r\n    showCart(state) {\r\n      state.isVisible = true\r\n    },\r\n    hideCart(state) {\r\n      state.isVisible = false\r\n    },\r\n  },\r\n})\r\n\r\nexport const cartVisibilityActions = cartVisibilitySlice.actions\r\n\r\nexport default cartVisibilitySlice.reducer\r\n","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst notificationVisibilitySlice = createSlice({\r\n  name: 'notificationVisibility',\r\n  initialState: { notification: null },\r\n  reducers: {\r\n    showNotification(state, action) {\r\n      state.notification = {\r\n        status: action.payload.status,\r\n        title: action.payload.title,\r\n        message: action.payload.message,\r\n        // isVisible: true,\r\n      }\r\n    },\r\n  },\r\n})\r\n\r\nexport const notificationVisibilityActions = notificationVisibilitySlice.actions\r\n\r\nexport default notificationVisibilitySlice.reducer\r\n","import { createSlice, current } from '@reduxjs/toolkit'\r\n\r\nconst initialCartState = {\r\n  items: [],\r\n  totalItems: 0,\r\n  totalPrice: 0,\r\n  changed: false,\r\n}\r\n\r\nconst cartInfoSlice = createSlice({\r\n  name: 'cartInfo',\r\n  initialState: initialCartState,\r\n  reducers: {\r\n    replaceCart(state, action) {\r\n      state.totalItems = action.payload.totalItems\r\n      state.totalPrice = action.payload.totalPrice\r\n      state.items = action.payload.items\r\n    },\r\n    addItem(state, action) {\r\n      // console.log(action.payload.item)\r\n      const existingItem = state.items.filter(\r\n        item => item.name === action.payload.item.name\r\n      )\r\n      state.changed = true\r\n\r\n      // console.log('items array', current(state.items))\r\n\r\n      // console.log(existingItem)\r\n\r\n      if (existingItem[0]) {\r\n        // const itemIndex = state.items.indexOf(\r\n        //   item => item.name === itemToAdd[0].name\r\n        //   )\r\n        const itemToAdd = state.items.find(\r\n          item => item.name === existingItem[0].name\r\n        )\r\n\r\n        // console.log('itemToAdd ->', current(itemToAdd))\r\n        itemToAdd.amount++\r\n        itemToAdd.total = itemToAdd.amount * itemToAdd.price\r\n        state.totalItems++\r\n        state.totalPrice = state.items\r\n          .map(item => item.total)\r\n          .reduce((curr, acc) => {\r\n            return curr + acc\r\n          }, 0)\r\n        // console.log('itemToAdd modified |>', current(itemToAdd))\r\n        // console.log('totalItems modified |>', current(state.totalItems))\r\n        // console.log('totalItems modified |>', state.totalItems)\r\n        // console.log('totalPrice modified |>', state.totalPrice)\r\n        // debugger\r\n        // state.items[itemIndex].amount += action.payload.item.amount\r\n      } else {\r\n        state.items.push({\r\n          ...action.payload.item,\r\n          total: action.payload.item.price,\r\n        })\r\n        state.totalItems++\r\n        state.totalPrice = action.payload.item.price\r\n      }\r\n\r\n      // console.log(existingItem)\r\n      // console.log(state.items)\r\n    },\r\n    removeItem(state, action) {\r\n      const existingItem = state.items.find(\r\n        item => item.name === action.payload.item.name\r\n      )\r\n      state.changed = true\r\n\r\n      if (existingItem.amount - 1 <= 0) {\r\n        state.items = state.items.filter(\r\n          item => item.name !== action.payload.item.name\r\n        )\r\n      } else {\r\n        existingItem.amount--\r\n        existingItem.total = existingItem.amount * existingItem.price\r\n      }\r\n      state.totalItems--\r\n      state.totalPrice = state.items\r\n        .map(item => item.total)\r\n        .reduce((curr, acc) => {\r\n          return curr + acc\r\n        }, 0)\r\n    },\r\n  },\r\n})\r\n\r\nexport const cartInfoActions = cartInfoSlice.actions\r\n\r\nexport default cartInfoSlice.reducer\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport cartVisibilityReducer from './cart-visibility'\r\nimport notificationVisibilityReducer from './notification-visibility'\r\nimport cartInfoReducer from './cart-info.js'\r\n\r\nconst store = configureStore({\r\n  reducer: { cartVisibility: cartVisibilityReducer, notification: notificationVisibilityReducer, cartInfo: cartInfoReducer },\r\n})\r\n\r\nexport default store\r\n","import classes from './Notification.module.css'\r\n\r\nconst Notification = props => {\r\n  let specialClasses = ''\r\n\r\n  if (props.status === 'error') {\r\n    specialClasses = classes.error\r\n  }\r\n  if (props.status === 'success') {\r\n    specialClasses = classes.success\r\n  }\r\n\r\n  const cssClasses = `${classes.notification} ${specialClasses}`\r\n\r\n  return (\r\n    <section className={cssClasses}>\r\n      <h2>{props.title}</h2>\r\n      <p>{props.message}</p>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <section\n      className={`${classes.card} ${props.className ? props.className : ''}`}\n    >\n      {props.children}\n    </section>\n  );\n};\n\nexport default Card;\n","import { useDispatch } from 'react-redux'\nimport { cartInfoActions } from '../../store/cart-info'\nimport classes from './CartItem.module.css'\n\nconst CartItem = props => {\n  const { title, quantity, total, price } = props.item\n\n  const dispatch = useDispatch()\n\n  const removeItemHandler = () => {\n    dispatch(\n      cartInfoActions.removeItem({\n        item: { name: title, price: price, amount: 1 },\n      })\n    )\n  }\n  const addItemHandler = () => {\n    dispatch(\n      cartInfoActions.addItem({\n        item: { name: title, price: price, amount: 1 },\n      })\n    )\n  }\n\n  return (\n    <li className={classes.item}>\n      <header>\n        <h3>{title}</h3>\n        <div className={classes.price}>\n          ${total.toFixed(2)}{' '}\n          <span className={classes.itemprice}>(${price.toFixed(2)}/item)</span>\n        </div>\n      </header>\n      <div className={classes.details}>\n        <div className={classes.quantity}>\n          x <span>{quantity}</span>\n        </div>\n        <div className={classes.actions}>\n          <button onClick={removeItemHandler}>-</button>\n          <button onClick={addItemHandler}>+</button>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default CartItem\n","import Card from '../UI/Card'\nimport classes from './Cart.module.css'\nimport CartItem from './CartItem'\n\nimport { useSelector } from 'react-redux'\nimport { useEffect } from 'react'\n\nconst Cart = props => {\n  const cartItems = useSelector(state => state.cartInfo.items)\n\n  useEffect(() => {\n    // console.log(cartItems)\n  }, [cartItems])\n\n  return (\n    <Card className={classes.cart}>\n      <h2>Your Shopping Cart</h2>\n      <ul>\n        {cartItems.map(item => (\n          <CartItem\n            item={{\n              title: item.name,\n              quantity: item.amount,\n              total: item.total,\n              price: item.price,\n            }}\n            key={item.name + item.price}\n          />\n        ))}\n      </ul>\n    </Card>\n  )\n}\n\nexport default Cart\n","import { useSelector, useDispatch } from 'react-redux'\nimport { cartVisibilityActions } from '../../store/cart-visibility'\n\nimport classes from './CartButton.module.css'\n\nconst CartButton = props => {\n  const isCartVisible = useSelector(state => state.cartVisibility.isVisible)\n  const totalItems = useSelector(state => state.cartInfo.totalItems)\n  const dispatch = useDispatch()\n\n  const toggleCartHandler = () => {\n    isCartVisible\n      ? dispatch(cartVisibilityActions.hideCart())\n      : dispatch(cartVisibilityActions.showCart())\n  }\n\n  return (\n    <button\n      className={isCartVisible ? classes['button-active'] : classes.button}\n      onClick={toggleCartHandler}\n    >\n      <span>My Cart</span>\n      <span className={classes.badge}>{totalItems}</span>\n    </button>\n  )\n}\n\nexport default CartButton\n","import CartButton from '../Cart/CartButton';\nimport classes from './MainHeader.module.css';\n\nconst MainHeader = (props) => {\n  return (\n    <header className={classes.header}>\n      <h1>ReduxCart</h1>\n      <nav>\n        <ul>\n          <li>\n            <CartButton />\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import { Fragment } from 'react';\nimport MainHeader from './MainHeader';\n\nconst Layout = (props) => {\n  return (\n    <Fragment>\n      <MainHeader />\n      <main>{props.children}</main>\n    </Fragment>\n  );\n};\n\nexport default Layout;\n","import { useDispatch } from 'react-redux'\nimport { cartInfoActions } from '../../store/cart-info'\nimport Card from '../UI/Card'\nimport classes from './ProductItem.module.css'\n\nconst ProductItem = props => {\n  const { title, price, description } = props\n  const dispatch = useDispatch()\n\n  const addItemHandler = () => {\n    dispatch(\n      cartInfoActions.addItem({\n        item: { name: title, price: price, amount: 1 },\n      })\n    )\n  }\n\n  return (\n    <li className={classes.item}>\n      <Card>\n        <header>\n          <h3>{title}</h3>\n          <div className={classes.price}>${price.toFixed(2)}</div>\n        </header>\n        <p>{description}</p>\n        <div className={classes.actions}>\n          <button onClick={addItemHandler}>Add to Cart</button>\n        </div>\n      </Card>\n    </li>\n  )\n}\n\nexport default ProductItem\n","import ProductItem from './ProductItem'\nimport classes from './Products.module.css'\n\nconst Products = props => {\n  return (\n    <section className={classes.products}>\n      <h2>Buy your favorite products</h2>\n      <ul>\n        <ProductItem\n          title=\"TV\"\n          price={2000}\n          description=\"Gaming TV, 65 inch 4k 60hz HDR 600 nits peak brightness\"\n        />\n        <ProductItem\n          title=\"Soundbar\"\n          price={250}\n          description=\"Gaming soundbar, full ranger drivers, USB-C support, bluetooth 5.2\"\n        />\n      </ul>\n    </section>\n  )\n}\n\nexport default Products\n","import Notification from './components/UI/Notification'\nimport Cart from './components/Cart/Cart'\nimport Layout from './components/Layout/Layout'\nimport Products from './components/Shop/Products'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useEffect } from 'react'\n// import { notificationVisibilityActions } from './store/notification-visibility'\nimport { sendCartData, fetchCartData } from './store/cart-thunks'\n\nlet isInitial = true\n\nfunction App() {\n  const dispatch = useDispatch()\n  const isCartVisible = useSelector(state => state.cartVisibility.isVisible)\n  const cart = useSelector(state => state.cartInfo)\n  const notification = useSelector(state => state.notification.notification)\n\n  useEffect(() => {\n    dispatch(fetchCartData())\n  },[dispatch])\n\n  useEffect(() => {\n\n    //~ all of this goes to the thunk in store/cart-info so redux-toolkit executes the internal function and we can use side effects \n    // const sendCartData = async () => {\n    // dispatch(\n    //   notificationVisibilityActions.showNotification({\n    //     status: 'pending',\n    //     title: 'Sending...',\n    //     message: 'Sending cart data',\n    //   })\n    // )\n    // const response = await fetch(\n    //   'https://advanced-redux-42308-default-rtdb.firebaseio.com/cart.json',\n    //   { method: 'PUT', body: JSON.stringify(cart) }\n    // )\n\n    // if (!response.ok) {\n    //   throw new Error('Sending cart data failed')\n    // }\n\n    // dispatch(\n    //   notificationVisibilityActions.showNotification({\n    //     status: 'success',\n    //     title: 'Success',\n    //     message: 'Sent cart data successfully',\n    //   })\n    // )\n    //}\n\n    if (isInitial) {\n      isInitial = false\n      return\n    }\n\n    if(cart.changed){\n      dispatch(sendCartData(cart))\n\n    }\n\n\n    // sendCartData().catch(error => {\n    // dispatch(\n    //   notificationVisibilityActions.showNotification({\n    //     status: 'error',\n    //     title: 'Error!',\n    //     message: 'Sending cart data failed!',\n    //   })\n    // )\n    // })\n  }, [cart, dispatch])\n\n  return (\n    <>\n      {notification && (\n        <Notification\n          status={notification.status}\n          title={notification.title}\n          message={notification.message}\n        />\n      )}\n      <Layout>\n        {isCartVisible && <Cart />}\n        <Products />\n      </Layout>\n    </>\n  )\n}\n\nexport default App\n","import { notificationVisibilityActions } from './notification-visibility'\r\nimport { cartInfoActions } from './cart-info'\r\n\r\nexport const fetchCartData = () => {\r\n  return async dispatch => {\r\n    const fetchData = async () => {\r\n      const response = await fetch(\r\n        'https://advanced-redux-42308-default-rtdb.firebaseio.com/cart.json'\r\n      )\r\n      if (!response.ok) {\r\n        throw new Error('Could not fetch cart data')\r\n      }\r\n\r\n      const data = await response.json()\r\n\r\n      return data\r\n    }\r\n\r\n    try {\r\n      const cartData = await fetchData()\r\n      dispatch(cartInfoActions.replaceCart({\r\n        items: cartData.items || [],\r\n        totalItems: cartData.totalItems,\r\n        totalPrice: cartData.totalPrice,\r\n      }))\r\n    } catch (error) {\r\n      dispatch(\r\n        notificationVisibilityActions.showNotification({\r\n          status: 'error',\r\n          title: 'Error!',\r\n          message: 'Fetching cart data failed!',\r\n        })\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport const sendCartData = cart => {\r\n  return async dispatch => {\r\n    dispatch(\r\n      notificationVisibilityActions.showNotification({\r\n        status: 'pending',\r\n        title: 'Sending...',\r\n        message: 'Sending cart data',\r\n      })\r\n    )\r\n\r\n    const sendRequest = async () => {\r\n      const response = await fetch(\r\n        'https://advanced-redux-42308-default-rtdb.firebaseio.com/cart.json',\r\n        {\r\n          method: 'PUT',\r\n          body: JSON.stringify({\r\n            items: cart.items,\r\n            totalItems: cart.totalItems,\r\n            totalPrice: cart.totalPrice,\r\n          }),\r\n        }\r\n      )\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Sending cart data failed')\r\n      }\r\n    }\r\n\r\n    try {\r\n      await sendRequest()\r\n\r\n      dispatch(\r\n        notificationVisibilityActions.showNotification({\r\n          status: 'success',\r\n          title: 'Success',\r\n          message: 'Sent cart data successfully',\r\n        })\r\n      )\r\n    } catch (error) {\r\n      dispatch(\r\n        notificationVisibilityActions.showNotification({\r\n          status: 'error',\r\n          title: 'Error!',\r\n          message: 'Sending cart data failed!',\r\n        })\r\n      )\r\n    }\r\n  }\r\n}\r\n","import ReactDOM from 'react-dom/client'\nimport { Provider } from 'react-redux'\nimport store from './store/index'\n\nimport './index.css'\nimport App from './App'\n\nconst root = ReactDOM.createRoot(document.getElementById('root'))\nroot.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CartItem_item__1je0I\",\"details\":\"CartItem_details__2Tbgn\",\"quantity\":\"CartItem_quantity__-k4lA\",\"price\":\"CartItem_price__ZEPkK\",\"itemprice\":\"CartItem_itemprice__3XZ4S\",\"actions\":\"CartItem_actions__2HwzP\"};"],"sourceRoot":""}